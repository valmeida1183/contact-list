<app-page-title [title]="'Persons List'"></app-page-title>

<ng-container *ngIf="personDataService.persons$ | async as persons">
  <div *ngIf="persons?.length === 0" class="list-empty-content">
    <span>Persons list is empty!</span>
  </div>

  <mat-list *ngIf="persons && persons.length > 0">
    <mat-divider></mat-divider>
    <mat-list-item *ngFor="let person of persons" class="person-list-item">
      <div class="person-list-item-content">
        <span>{{ person.name }}</span>
        <div>
          <button
            mat-mini-fab
            color="accent"
            matTooltip="Edit person"
            matTooltipPosition="left"
            (click)="onEditPerson(person)"
          >
            <mat-icon>edit</mat-icon>
          </button>
          <button
            mat-mini-fab
            color="warn"
            matTooltip="Delete person"
            matTooltipPosition="right"
            (click)="onDeletePerson(person)"
          >
            <mat-icon>delete</mat-icon>
          </button>
          <button
            mat-mini-fab
            color="primary"
            matTooltip="Go to contacts"
            matTooltipPosition="right"
            [routerLink]="['person', person.id]"
          >
            <mat-icon>arrow_forward</mat-icon>
          </button>
        </div>
      </div>
    </mat-list-item>
    <mat-divider></mat-divider>
  </mat-list>
</ng-container>

<div class="list-content">
  <button mat-fab extended color="primary" (click)="onCreatePerson()">
    <mat-icon>add</mat-icon>
    Add new person
  </button>
</div>
